<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Winter AR Scene</title>
<script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
<style>
  body {
    margin: 0;
    overflow: hidden;
    font-family: sans-serif;
  }
  .overlay {
    position: absolute;
    bottom: 16px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(20,20,20,0.7);
    color: #fff;
    padding: 10px 14px;
    border-radius: 10px;
    z-index: 5;
    font-size: 14px;
  }
</style>
</head>

<body>
  <div class="overlay">Tap on the ground to place a winter object ❄️</div>

  <a-scene
    webxr="requiredFeatures: hit-test"
    vr-mode-ui="enabled: false"
    renderer="colorManagement: true; exposure: 1.0"
    embedded>

    <a-camera></a-camera>

    <!-- Desktop preview surface -->
    <a-plane rotation="-90 0 0"
             width="15"
             height="15"
             color="#9bd18b"
             position="0 0 0">
    </a-plane>

    <!-- Container for placed objects -->
    <a-entity id="world-objects"></a-entity>

    <!-- Snowman template -->
    <a-entity id="snowman-template" visible="false">
      <a-sphere radius="0.22" position="0 0.22 0" color="#ffffff"></a-sphere>
      <a-sphere radius="0.16" position="0 0.55 0" color="#ffffff"></a-sphere>
      <a-sphere radius="0.11" position="0 0.82 0" color="#ffffff"></a-sphere>
    </a-entity>

    <!-- Pine tree template -->
    <a-entity id="tree-template" visible="false">
      <a-cylinder radius="0.04" height="0.20" position="0 0.10 0" color="#6b4423"></a-cylinder>
      <a-cone radius-bottom="0.30" height="0.35" position="0 0.35 0" color="#1a7f37"></a-cone>
      <a-cone radius-bottom="0.22" height="0.28" position="0 0.55 0" color="#239b45"></a-cone>
    </a-entity>

  </a-scene>

  <script>
    const sceneEl = document.querySelector('a-scene');
    const world = document.getElementById('world-objects');

    let placeSnowmanNext = true;

    function placeWinterObject(event) {
      const templateId = placeSnowmanNext ? 'snowman-template' : 'tree-template';
      placeSnowmanNext = !placeSnowmanNext;

      const newObject = document.getElementById(templateId).cloneNode(true);
      newObject.setAttribute('visible', 'true');

      const hit = event.detail && event.detail.intersection;
      if (hit) {
        const p = hit.point;
        newObject.setAttribute('position', `${p.x} ${p.y} ${p.z}`);
      } else {
        newObject.setAttribute(
          'position',
          `${(Math.random() - 0.5) * 6} 0 ${(Math.random() - 0.5) * 6}`
        );
      }

      world.appendChild(newObject);
    }

    sceneEl.addEventListener('pointerdown', placeWinterObject);
  </script>
</body>
</html>


